# Copyright 2020-present Open Networking Foundation
#
# SPDX-License-Identifier: Apache-2.0

images:
  repository: "" #default docker hub
  tags:
    init: omecproject/pod-init:rel-1.1.3
    simapp: omecproject/simapp:rel-1.6.3
  pullPolicy: IfNotPresent

resources:
  enabled: false
  simapp:
    requests:
      cpu: 1
      memory: 1Gi
    limits:
      cpu: 1
      memory: 1Gi

config:
  coreDump:
    enabled: false
    path: /tmp/coredump
  simapp:
    deploy: true
    podAnnotations:
      field.cattle.io/workloadMetrics: '[{"path":"/metrics","port":9089,"schema":"HTTP"}]'
    prometheus:
      port: 9089
      nodePort:
        enabled: false
        port: 30080
    config:
      port: 8080
      nodePort:
        enabled: false
        port: 30081
    cfgFiles:
      simapp.yaml:
        info:
          version: 1.0.0
          description: SIMAPP initial local configuration
          http-version: 1
        logger:
          # network function
          APP:
            debugLevel: info
        configuration:
          provision-network-slice: false
          subscribers:
          - ueId-start: "208930100007500"
            ueId-end: "208930100007509"
            plmnId: "20893"
            opc: "981d464c7c52eb6e5036234984ad0bcf"
            op: ""
            key: "5122250214c33e723a5dd523fc145fc0"
            sequenceNumber: "16f3b3f70fc2"
          sub-provision-endpt:
            addr: webui
            port: 5000
          # sub-proxy-endpt:
            # addr: subscriber-proxy.aether-roc.svc.cluster.local
            # port: 5000
          device-groups:
          - name:  "gnbsim-user-group1"
            imsis:
              - "208930100007500"
              - "208930100007501"
              - "208930100007502"
              - "208930100007503"
              - "208930100007504"
              - "208930100007505"
              - "208930100007506"
              - "208930100007507"
              - "208930100007508"
              - "208930100007509"
            ip-domain-name: "pool1"
            ip-domain-expanded:
              dnn: internet
              dns-primary: "8.8.8.8"
              mtu: 1460
              ue-ip-pool: "192.168.100.0/24"
              ue-dnn-qos:
                dnn-mbr-downlink: 5
                dnn-mbr-uplink: 2
                bitrate-unit: Mbps
                traffic-class:
                  name: "gold"
                  qci: 9
                  arp: 6
                  pdb: 300
                  pelr: 6
            site-info: "enterprise"
          network-slices:
          - name: "slice1"
            slice-id:
              sd: "010203"
              sst: 1
            site-device-group:
            - "gnbsim-user-group1"
            application-filtering-rules:
            - rule-name: "ALLOW-ALL"
              priority: 250
              action: "permit"
              endpoint: "0.0.0.0/0"
              traffic-class:
                qci: 9
                arp: 6
            site-info:
              gNodeBs:
              - name: "gnb1"
                tac: 1
              plmn:
                mcc: "208"
                mnc: "93"
              site-name: "enterprise"
              upf:
                upf-name: "upf"
                upf-port: 8805
